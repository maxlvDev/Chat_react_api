{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\M.Saidov\\\\Desktop\\\\chat\\\\src\\\\components\\\\Chat.jsx\",\n    _s = $RefreshSig$();\n\nimport { Container } from '@mui/material';\nimport React from 'react';\nimport { useContext } from 'react';\nimport { Context } from '../index';\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { Button, Avatar } from '@mui/material';\nimport Grid from '@mui/material/Grid';\nimport TextField from '@mui/material/TextField';\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\nimport { useState } from 'react';\nimport firebase from 'firebase/compat/app';\nimport Loader from './Loader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Chat() {\n  _s();\n\n  const {\n    auth,\n    firestore\n  } = useContext(Context);\n  const [user] = useAuthState(auth);\n  const [value, setValue] = useState('');\n  const [messages, loading] = useCollectionData(firestore.collection('messages').orderBy('createdAt'));\n\n  const sendMessage = async () => {\n    firestore.collection('messages').add({\n      uid: user.uid,\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      text: value,\n      createdAt: firebase.firestore.FieldValue.serverTimestamp()\n    });\n    setValue('');\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 10\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      style: {\n        height: window.innerHeight - 50\n      },\n      alignItems: 'center',\n      justifyContent: 'center',\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '80%',\n          height: '70vh',\n          border: '1px solid gray',\n          overflowY: 'auto'\n        },\n        children: messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: 10,\n            border: user.uid === message.uid ? '2px solid green' : '2px dashed red',\n            marginLeft: user.uid === message.uid ? 'auto' : '10px',\n            width: 'fit-content',\n            padding: 5\n          },\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            children: [/*#__PURE__*/_jsxDEV(Avatar, {\n              src: message.photoURL\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: message.displayName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: message.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        direction: \"column\",\n        alignItems: \"flex-end\",\n        style: {\n          width: '80%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          rowsMax: 2,\n          variant: \"outlined\",\n          value: value,\n          onChange: e => setValue(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: sendMessage,\n          variant: \"outlined\",\n          children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 2\n  }, this);\n}\n\n_s(Chat, \"AOQrotRfaVlHPIv0+erwZr04/qs=\", false, function () {\n  return [useAuthState, useCollectionData];\n});\n\n_c = Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["C:/Users/M.Saidov/Desktop/chat/src/components/Chat.jsx"],"names":["Container","React","useContext","Context","useAuthState","Button","Avatar","Grid","TextField","useCollectionData","useState","firebase","Loader","Chat","auth","firestore","user","value","setValue","messages","loading","collection","orderBy","sendMessage","add","uid","displayName","photoURL","text","createdAt","FieldValue","serverTimestamp","height","window","innerHeight","width","border","overflowY","map","message","margin","marginLeft","padding","e","target"],"mappings":"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","sourcesContent":["import { Container } from '@mui/material';\r\nimport React from 'react';\r\nimport { useContext } from 'react';\r\nimport {Context} from '../index';\r\nimport {useAuthState} from \"react-firebase-hooks/auth\"\r\nimport { Button, Avatar } from '@mui/material';\r\nimport Grid from '@mui/material/Grid';\r\nimport TextField from '@mui/material/TextField';\r\nimport {useCollectionData} from \"react-firebase-hooks/firestore\";\r\nimport { useState } from 'react';\r\nimport firebase from 'firebase/compat/app';\r\nimport Loader from './Loader';\r\n\r\n\r\nexport default function Chat() {\r\n  const {auth, firestore} = useContext(Context)\r\n  const [user] = useAuthState(auth)\r\n  const [value, setValue] = useState('')\r\n  const [messages, loading] = useCollectionData(\r\n  firestore.collection('messages').orderBy('createdAt')\r\n)\r\n\r\nconst sendMessage = async () => {\r\n  firestore.collection('messages').add({\r\n      uid: user.uid,\r\n      displayName: user.displayName,\r\n      photoURL: user.photoURL,\r\n      text: value,\r\n      createdAt: firebase.firestore.FieldValue.serverTimestamp()\r\n  })\r\n  setValue('')\r\n}\r\n\r\nif (loading) {\r\n  return <Loader/>\r\n}\r\n\r\n  return (\r\n <Container>\r\n   <Grid container style = {{height: window.innerHeight - 50}}\r\n              alignItems = {'center'}\r\n              justifyContent = {'center'}>\r\n                <div style={{width: '80%', height : '70vh', border : '1px solid gray', overflowY : 'auto'}}>\r\n                {messages.map(message =>\r\n                        <div style={{\r\n                            margin: 10,\r\n                            border: user.uid === message.uid ? '2px solid green' : '2px dashed red',\r\n                            marginLeft: user.uid === message.uid ? 'auto' : '10px',\r\n                            width: 'fit-content',\r\n                            padding: 5,\r\n                        }}>\r\n                            <Grid container>\r\n                                <Avatar src={message.photoURL}/>\r\n                                <div>{message.displayName}</div>\r\n                            </Grid>\r\n                            <div>{message.text}</div>\r\n                        </div>\r\n                    )}\r\n\r\n                </div>\r\n              <Grid\r\n                    container\r\n                    direction={\"column\"}\r\n                    alignItems={\"flex-end\"}\r\n                    style={{width: '80%'}}\r\n                >\r\n                <TextField\r\n                fullWidth\r\n                rowsMax={2}\r\n                variant={\"outlined\"}\r\n                value={value}\r\n                onChange={e => setValue(e.target.value)}>\r\n                  \r\n                </TextField>\r\n                <Button onClick={sendMessage} variant={\"outlined\"}>Отправить</Button>\r\n            </Grid>\r\n    </Grid>\r\n </Container>\r\n\r\n  )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}